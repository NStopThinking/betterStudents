<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>幸运大转盘</title>
</head>
<body>
	<div style="position: relative; width: 700px; height: 700px; margin: 0 auto; background: #f8ff9d; ">
		<canvas id="panel-canvas" width="700" height="700" style="display: block; margin: 0 auto; transition: all 2s;"></canvas>
		<canvas id="point-canvas" width="700" height="700" style="position: absolute; left: 0; top: 0; margin: 0 auto;"></canvas>
		<button id="clickBtn" style="width: 150px; height: 150px; background: none; margin:-75px 0 0 -75px; border: none; outline: none; position: absolute; left: 50%; top: 50%;"></button>
	</div>

	<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
	<script src="lucky.js"></script>
	<script>
		function Page(){
			this.panelCanvasElem = document.querySelector("#panel-canvas");
			this.pointCanvasElem = document.querySelector("#point-canvas");
			this.ClickBtnElem = $("#clickBtn");
		}
		
		Object.assign(Page.prototype, {
			init: function() {
				this.panelCanvas = new Lucky(this.panelCanvasElem);
				this.panelCanvas.init();
				
				this.pointCanvas = new Point(this.pointCanvasElem);
				this.pointCanvas.init();
				this.bindEvents();
			},
			
			bindEvents: function(){
				this.ClickBtnElem.on("click", $.proxy(this.handlerotate,this));
			},
		
			handlerotate: function(){
				this.panelCanvasElem.style.transform = "rotate("+ Math.random()*1000 + 1000 +"deg)";
			}
			
		})
		
		var page = new Page();
		page.init()
	</script>
</body>
</html>
