<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{
			margin:0;
			padding:0;
		}
		li{
			list-style: none;
		}
		#e-book{
			width:400px;
			height:600px;
			margin:20px auto;
			background:#ccc;
		}
		#content{
			width:400px;
			height:500px;
			float:left;
			overflow: hidden;
		}
		#menu{
			float:left;
			width:400px;
			height:100px;
			background: #ddd;
		}
		#font{
			height:50px;
		}
		#font li{
			margin-top:10px;
			float: left;
			width:133px;
		}
		#font span{
			margin:0 auto;
			display: block;
			width:30px;
			line-height:30px;
			border-radius: 5px;
			background:#158bee;
			text-align:center;
		}
		#font #fontNum span{
			background: #15b5af;
		}
		#backgroundColor{
			height:50px;
		}
		#backgroundColor li{
			float: left;
			width:80px;
		}
		#backgroundColor span{
			margin:0 auto;
			display: block;
			width:30px;
			height:30px;
			border-radius: 5px;
			background:green;
		}
		#backgroundColor #one span{
			background: #65abb9;
		}
		#backgroundColor #two span{
			background: #44cca1;
		}
		#backgroundColor #three span{
			background: #6481ca;
		}
		#backgroundColor #four span{
			background: #afd3c9;
		}
		#backgroundColor #five span{
			background: #ccc;
		}
	</style>
</head>
<body>
	<div id="e-book">
		<div id="content">
					<p id="fontSize">浔阳江头夜送客， 枫叶荻花秋瑟瑟。 主人下马客在船， 举酒欲饮无管弦。 醉不成欢惨将别， 别时茫茫江浸月。
		忽闻水上琵琶声， 主人忘归客不发。 寻声暗问弹者谁？ 琵琶声停欲语迟。 移船相近邀相见， 添酒回灯重开宴。 千呼万唤始出来， 犹抱琵琶半遮面。 转轴拨弦三两声， 未成曲调先有情。 弦弦掩抑声声思， 似诉平生不得志。 低眉信手续续弹， 说尽心中无限事。 轻拢慢捻抹复挑， 初为霓裳后六幺。 大弦嘈嘈如急雨， 小弦切切如私语。 嘈嘈切切错杂弹， 大珠小珠落玉盘。 间关莺语花底滑， 幽咽泉流冰下难。 冰泉冷涩弦凝绝， 凝绝不通声暂歇。 别有幽愁暗恨生， 此时无声胜有声。 银瓶乍破水浆迸， 铁骑突出刀枪鸣。 曲终收拨当心画， 四弦一声如裂帛。 东船西舫悄无言， 唯见江心秋月白。
		沉吟放拨插弦中， 整顿衣裳起敛容。 自言本是京城女， 家在虾蟆陵下住。 十三学得琵琶成， 名属教坊第一部。 曲罢曾教善才服， 妆成每被秋娘妒。 五陵年少争缠头， 一曲红绡不知数。 钿头银篦击节碎， 血色罗裙翻酒污。 今年欢笑复明年， 秋月春风等闲度。 弟走从军阿姨死， 暮去朝来颜色故。 门前冷落鞍马稀， 老大嫁作商人妇。 商人重利轻别离， 前月浮梁买茶去。 去来江口守空船， 绕船月明江水寒。 夜深忽梦少年事， 梦啼妆泪红阑干。
		我闻琵琶已叹息， 又闻此语重唧唧。 同是天涯沦落人， 相逢何必曾相识！ 我从去年辞帝京， 谪居卧病浔阳城。 
		我闻琵琶已叹息， 又闻此语重唧唧。 同是天涯沦落人， 相逢何必曾相识！ 我从去年辞帝京， 谪居卧病浔阳城。 
		我闻琵琶已叹息， 又闻此语重唧唧。 同是天涯沦落人， 相逢何必曾相识！ 我从去年辞帝京， 谪居卧病浔阳城。 
		我闻琵琶已叹息， 又闻此语重唧唧。 同是天涯沦落人， 相逢何必曾相识！ 我从去年辞帝京， 谪居卧病浔阳城。 
		</p>
		</div>
		<div id="menu">
			<ul id="font">
				<li id="fontAdd"><span>+</span></li>
				<li id="fontNum"><span id="sizeNum">16</span></li>
				<li id="fontJian"><span>-</span></li>
			</ul>
			<ol id="backgroundColor">
				<li id="one"><span></span></li>
				<li id="two"><span></span></li>
				<li id="three"><span></span></li>
				<li id="four"><span></span></li>
				<li id="five"><span></span></li>
			</ol>
		</div>	
	</div>
	<script src="https://cdn.bootcss.com/jquery/1.8.3/jquery.js"></script>
	<script>
		function Page () {
			this.eBook = $('#e-book');
			this.fontSize = $('#fontSize');
			this.fontAdd  = $('#fontAdd');
			this.fontNum  = $('#fontNum');
			this.fontJian = $('#fontJian');
			this.sizeNum  = $('#sizeNum');
			this.iNum;
			this.color;
			this.backgroundColor = $('#backgroundColor');
			this.one = $('#one');
			this.two = $('#two');
			this.three = $('#three');
			this.four = $('#four');
			this.five = $('#five');
		}

		$.extend(Page.prototype, {

			init:function() {
				this.bindEvents();

				if(parseInt(window.localStorage.iNum) !== 16){
					this.iNum = parseInt(window.localStorage.iNum);
					this.fontSize.css('fontSize', this.iNum);
					this.sizeNum.text(this.iNum);
				}else{
					this.iNum = 16;
					this.fontSize.css('fontSize', this.iNum);
					this.sizeNum.text(this.iNum);
				}

				try{
					this.eBook.css('backgroundColor', window.localStorage.color);
				}catch(e){}

			},

			bindEvents: function() {
				this.fontAdd.on('click', $.proxy(this.handlefontAdd, this));
				this.fontJian.on('click', $.proxy(this.handlefontJian, this));
				this.one.on('click', $.proxy(this.handlecolorOne, this));
				this.two.on('click', $.proxy(this.handlecolorTwo, this));
				this.three.on('click', $.proxy(this.handlecolorThree, this));
				this.four.on('click', $.proxy(this.handlecolorFour, this));
				this.five.on('click', $.proxy(this.handlecolorFive, this));
			},

			handlefontAdd: function(e) {
				if(e.target.nodeName == "SPAN"){
					this.iNum += 2;
					this.fontSize.css({"fontSize":this.iNum});
					this.sizeNum.text(this.iNum);
					try{
						window.localStorage.iNum = this.iNum;
					}catch(e){}
				}
			},

			handlefontJian: function(e) {
				if(e.target.nodeName == "SPAN"){
					this.iNum -= 2;
					this.fontSize.css({"fontSize":this.iNum});
					this.sizeNum.text(this.iNum);
					try{
						window.localStorage.iNum = this.iNum;
					}catch(e){}
				}
			},

			handlecolorOne: function(e) {
				this.color = $(e.target).css('backgroundColor');
				this.eBook.css('backgroundColor', this.color);
				try{
					window.localStorage.color = this.color;
				}catch(e){}
			},

			handlecolorTwo: function(e) {
				this.color = $(e.target).css('backgroundColor');
				this.eBook.css('backgroundColor', this.color);
				try{
					window.localStorage.color = this.color;
				}catch(e){}
			},

			handlecolorThree: function(e) {
				this.color = $(e.target).css('backgroundColor');
				this.eBook.css('backgroundColor', this.color);
				try{
					window.localStorage.color = this.color;
				}catch(e){}
			},

			handlecolorFour: function(e) {
				this.color = $(e.target).css('backgroundColor');
				this.eBook.css('backgroundColor', this.color);
				try{
					window.localStorage.color = this.color;
				}catch(e){}
			},

			handlecolorFive: function(e) {
				this.color = $(e.target).css('backgroundColor');
				this.eBook.css('backgroundColor', this.color);
				try{
					window.localStorage.color = this.color;
				}catch(e){}
			}

		});

		var page = new Page();
		page.init();
	</script>
</body>
</html>