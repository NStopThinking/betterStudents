<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>电子书</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		li{
			list-style: none;
		}
		#e-book{
			height: 600px;
			width: 400px;
			overflow: hidden;
			border: 1px solid #666;
			margin: 20px auto;
			position: relative;
		}
		#e-book .title{
			line-height: 48px;
		}
		#e-book .content{
			height: 552px;
			width: 100%;
			overflow: auto;
		}
		#e-book .style{
			height: 100px;
			width: 100%;
			background: #c07ab8;
			position: absolute;
			bottom: 0;
		}
		.font-change{
			height: 50px;
			width: 280px;
			margin: 0 auto;
		}
		#add,#fontsize,#sum{
			height: 30px;
			width: 30px;
			border: none;
			outline: none;
			background: #ccc;
			text-align: center;
			color: black;
			margin: 10px 30px;
			border-radius: 8px;
		}
		#color-list{
			height: 50px;
		}
		#color-list .color-btn{
			float: left;
			width: 30px;
			height: 30px;
			border-radius: 8px;
			margin: 10px 25px;
		}
	</style>
</head>
<body>
	<div id="e-book">
		<div class="title">
			<p>第001回 灵根育孕源流出 心性修持大道生</p>
		</div>
		<div class="js-content content">
			<p>诗曰：<br>
　　		混沌未分天地乱，茫茫渺渺无人见。<br>
　　		自从盘古破鸿蒙，开辟从兹清浊辨。<br>
　　		覆载群生仰至仁，发明万物皆成善。<br>
　　		欲知造化会元功，须看西游释厄传。</p>
			<p>盖闻天地之数，有十二万九千六百岁为一元。将一元分为十二会，乃子、丑、寅、卯、辰、巳、午、未、申、酉、戌、亥之十二支也。每会该一万八百岁。且就一日而论：子时得阳气，而丑则鸡鸣；寅不通光，而卯则日出；辰时食后，而巳则挨排；日午天中，而未则西蹉；申时晡而日落酉；戌黄昏而人定亥。譬于大数，若到戌会之终，则天地昏蒙而万物否矣。再去五千四百岁，交亥会之初，则当黑暗，而两间人物俱无矣，故曰混沌。又五千四百岁，亥会将终，贞下起元，近子之会，而复逐渐开明。邵康节曰：“冬至子之半，天心无改移。一阳初动处，万物未生时。”到此，天始有根。再五千四百岁，正当子会，轻清上腾，有日，有月，有星，有辰。日、月、星、辰，谓之四象。故曰，天开于子。又经五千四百岁，子会将终，近丑之会，而逐渐坚实。易曰：“大哉乾元！至哉坤元！万物资生，乃顺承天。”至此，地始凝结。再五千四百岁，正当丑会，重浊下凝，有水，有火，有山，有石，有土。水、火、山、石、土谓之五形。故曰，地辟于丑。又经五千四百岁，丑会终而寅会之初，发生万物。历曰：“天气下降，地气上升；天地交合，群物皆生。”至此，天清地爽，陰阳交合。再五千四百岁，正当寅会，生人，生兽，生禽，正谓天地人，三才定位。故曰，人生于寅。</p>
			<p>感盘古开辟，三皇治世，五帝定轮，世界之间，遂分为四大部洲：曰东胜神洲，曰西牛贺洲，曰南赡部洲，曰北俱芦洲。这部书单表东胜神洲。海外有一国土，名曰傲来国。国近大海，海中有一座山，唤为花果山。此山乃十洲之祖脉，三岛之来龙，自开清浊而立，鸿蒙判后而成。真个好山！有词赋为证。赋曰：</p>
			<p>势镇汪洋，威宁瑶海。势镇汪洋，潮涌银山鱼入袕；威宁瑶海，波翻雪浪蜃离渊。木火方隅高积上，东海之处耸崇巅。丹崖怪石，削壁奇峰。丹崖上，彩凤双鸣；削壁前，麒麟独卧。峰头时听锦鸡鸣，石窟每观龙出入。林中有寿鹿仙狐，树上有灵禽玄鹤。瑶草奇花不谢，青松翠柏长春。仙桃常结果，修竹每留云。一条涧壑藤萝密，四面原堤草色新。正是百川会处擎天柱，万劫无移大地根。那座山，正当顶上，有一块仙石。其石有三丈六尺五寸高，有二丈四尺围圆。三丈六尺五寸高，按周天三百六十五度；二丈四尺围圆，按政历二十四气。上有九窍八孔，按九宫八卦。四面更无树木遮陰，左右倒有芝兰相衬。盖自开辟以来，每受天真地秀，日精月华，感之既久，遂有灵通之意。内育仙胞，一日迸裂，产一石卵，似圆球样大。因见风，化作一个石猴，五官俱备，四肢皆全。便就学爬学走，拜了四方。目运两道金光，射冲斗府。惊动高天上圣大慈仁者玉皇大天尊玄穹高上帝，驾座金阙云宫灵霄宝店，聚集仙卿，见有金光焰焰，即命千里眼、顺风耳开南天门观看。二将果奉旨出门外，看的真，听的明。须臾回报道：“臣奉旨观听金光之处，乃东胜神洲海东傲来小国之界，有一座花果山，山上有一仙石，石产一卵，见风化一石猴，在那里拜四方，眼运金光，射冲斗府。如今服饵水食，金光将潜息矣。”玉帝垂赐恩慈曰：“下方之物，乃天地精华所生，不足为异。”</p>
		</div>
		<div class="js-style style">
			<div class="font-change">
				<button id="add">+</button>
				<input type="text" value="16" disabled id="fontsize">
				<button id="sum">-</button>
			</div>
			<ul id="color-list">
				<li class="color-btn"></li>
				<li class="color-btn"></li>
				<li class="color-btn"></li>
				<li class="color-btn"></li>
				<li class="color-btn"></li>
			</ul>
		</div>
	</div>
	<script src="jquery.js"></script>
	<script>

		function Page() {
			this.oLi = $('li');
			this.jsContent = $('.js-content');
			this.jsStyle = $('.js-style');
			this.eBook = $('#e-book');
			this.add = $('#add');
			this.fontSize = $('#fontsize');
			this.sum = $('#sum');
			this.colorList = $('#color-list');
		}

		$.extend(Page.prototype, {
			init: function() {
				this.baseSet();
				this.bindEvents();
			},

			baseSet: function() {
				this.oLi.eq(0).css("background","#c2c287");
				this.oLi.eq(1).css("background","#b7ff4a");
				this.oLi.eq(2).css("background","#6fb7b7");
				this.oLi.eq(3).css("background","#9999cc");
				this.oLi.eq(4).css("background","#ffaf60");
				this.eBook.css("background","#c2c287");
				this.jsContent.css("fontSize",parseInt(this.fontSize.val()));
				try{
					if (localStorage.background) {
						this.eBook.css("background",localStorage.background);
					}
					if (localStorage.fontsize) {
						this.fontSize.val(localStorage.fontsize);
						this.jsContent.css("font-size",parseInt(localStorage.fontsize));
					}
					if (localStorage.display === "block") {
						this.jsStyle.css("display","none");
					} else if (localStorage.display === "none") {
						this.jsStyle.css("display","block");
					}
					if (localStorage.bgcolor) {
						this.eBook.css("background",localStorage.bgcolor);
					}
				}catch(e){}
			},

			bindEvents: function() {
				this.jsContent.on("click", $.proxy(this.styleHide, this));
				this.add.on("click", $.proxy(this.fontSizeAdd, this));
				this.sum.on("click", $.proxy(this.fontSizeSum, this));
				this.colorList.on("click", $.proxy(this.colorChange, this));
			},

			styleHide: function() {
				var style = this.jsStyle.css("display");
				if (style === "block") {
					this.jsStyle.css("display","none");
				} else if (style === "none") {
					this.jsStyle.css("display","block");
				}
				try{
					localStorage.display = style;
				}catch(e){}
			},

			fontSizeAdd: function() {
				this.fontSize.val(parseInt(this.fontSize.val()) + 2);
				if (parseInt(this.fontSize.val()) >= 26) {
					this.fontSize.val(26);
				}
				this.jsContent.css("fontSize",parseInt(this.fontSize.val()));
				try{
					localStorage.fontsize = parseInt(this.fontSize.val());
				}catch(e){}
			},

			fontSizeSum: function() {
				this.fontSize.val(parseInt(this.fontSize.val()) - 2);
				if (parseInt(this.fontSize.val()) <= 12) {
					this.fontSize.val(12);
				}
				this.jsContent.css("fontSize",parseInt(this.fontSize.val()));
				try{
					localStorage.fontsize = parseInt(this.fontSize.val());
				}catch(e){}
			},

			colorChange: function(e) {
				this.eBook.css("background",$(e.target).css("background"));
				try{
					localStorage.bgcolor = this.eBook.css("background");
				}catch(e){}
			}

		});

		var page = new Page();
		page.init();

	</script>
</body>
</html>